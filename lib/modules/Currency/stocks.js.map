{"version":3,"sources":["modules/Currency/stocks.js"],"names":[],"mappings":";;;;AAAA;;;;AACA;;;;;;;;;;;;IAEM,M;;;;;;;;;;;6BAeM;AAAA;;AACR,WAAK,QAAL,CAAc,gBAAd,EAAgC,mBAAW;AACzC,YAAI,SAAS,QAAQ,CAAR,CAAb;AACA,6BACC,GADD,2CAC6C,MAD7C,EAEC,GAFD,CAEK,UAAC,GAAD,EAAM,GAAN,EAAc;AACjB,cAAI,GAAJ,EAAS;AACP,mBAAK,MAAL,CAAY,KAAZ,4BAC2B,OAAO,WAAP,EAD3B,SACqD,GADrD;AAGA,mBAAO,OAAK,KAAL,wBACgB,OAAO,WAAP,EADhB,kBACiD,GADjD,CAAP;AAGD;AACD,gBAAM,KAAK,KAAL,CAAW,IAAI,IAAJ,CAAS,OAAT,CAAiB,IAAjB,EAAuB,EAAvB,CAAX,EAAuC,CAAvC,CAAN;AACA,iBAAK,IAAL,CAAU,OAAK,OAAf,EAAwB,CACtB,OADsB,EAEnB,IAAI,CAFe,SAEV,IAAI,CAFM,EAGtB,KAHsB,0BAIA,IAAI,CAJJ,mBAKP,IAAI,CALG,UAKG,IAAI,EALP,+BAMF,IAAI,GANF,EAOtB,IAPsB,CAOjB,IAPiB,CAAxB;AAQD,SApBD;AAqBD,OAvBD;AAwBD;;;wBAvCkB;AACjB,aAAO,QAAP;AACD;;;wBAEyB;AACxB,aAAO,2CAAP;AACD;;;wBAEmB;AAClB,aAAO,CACL,CAAC,kDAAD,CADK,CAAP;AAGD;;;;;;AA8BH,OAAO,OAAP,GAAiB,MAAjB","file":"modules/Currency/stocks.js","sourcesContent":["import BaseCommand from '../../base/BaseCommand'\nimport request from 'superagent'\n\nclass Stocks extends BaseCommand {\n  static get name () {\n    return 'stocks'\n  }\n\n  static get description () {\n    return 'Fetches certain stock from ticker symbols'\n  }\n\n  static get usage () {\n    return [\n      ['**stocks** <symbol> - Fetches the specific stock']\n    ]\n  }\n\n  handle () {\n    this.responds(/^stocks (.+)$/i, matches => {\n      let symbol = matches[1]\n      request\n      .get(`http://www.google.com/finance/info?q=${symbol}`)\n      .end((err, res) => {\n        if (err) {\n          this.logger.error(\n            `Error fetching stock $${symbol.toUpperCase()}: `, err\n          )\n          return this.reply(\n            `**Error**: Stock $${symbol.toUpperCase()} met with ${err}`\n          )\n        }\n        res = JSON.parse(res.text.replace('//', ''))[0]\n        this.send(this.channel, [\n          '```xl',\n          `${res.e}:${res.t}`,\n          '```',\n          `**Current price**: ${res.l}`,\n          `**Change**: ${res.c} (${res.cp}%)`,\n          `**Last update**: ${res.ltt}`\n        ].join('\\n'))\n      })\n    })\n  }\n}\n\nmodule.exports = Stocks\n"],"sourceRoot":"/Users/AaronTua/Desktop/code/fuyu/src"}