{"version":3,"sources":["modules/Currency/stocks.js"],"names":[],"mappings":";;;;AAAA;;;;AACA;;;;;;;;;;;;IAEM,M;;;;;;;;;;;6BAeM;AAAA;;AACR,WAAK,QAAL,CAAc,gBAAd,EAAgC,mBAAW;AACzC,YAAI,SAAS,QAAQ,CAAR,CAAb;AACA,6BACC,GADD,2CAC6C,MAD7C,EAEC,GAFD,CAEK,UAAC,GAAD,EAAM,GAAN,EAAc;AACjB,cAAI,IAAI,UAAJ,KAAmB,GAAvB,EAA4B;AAC1B,mBAAK,IAAL,CAAU,OAAK,OAAf,+CAC6C,OAAO,WAAP,EAD7C,6BACyF,OAAK,MAAL,CAAY,IADrG;AAGA;AACD,WALD,MAKO,IAAI,GAAJ,EAAS;AACd,mBAAK,KAAL,0BAAkC,OAAO,WAAP,EAAlC,kBAAmE,GAAnE;AACA;AACD;AACD,gBAAM,KAAK,KAAL,CAAW,IAAI,IAAJ,CAAS,OAAT,CAAiB,IAAjB,EAAuB,EAAvB,CAAX,EAAuC,CAAvC,CAAN;AACA,iBAAK,IAAL,CAAU,OAAK,OAAf,EAAwB,CACtB,OADsB,EAEnB,IAAI,CAFe,SAEV,IAAI,CAFM,EAGtB,KAHsB,0BAIA,IAAI,CAJJ,mBAKP,IAAI,CALG,UAKG,IAAI,EALP,+BAMF,IAAI,GANF,EAOtB,IAPsB,CAOjB,IAPiB,CAAxB;AAQD,SArBD;AAsBD,OAxBD;AAyBD;;;wBAxCkB;AACjB,aAAO,QAAP;AACD;;;wBAEyB;AACxB,aAAO,2CAAP;AACD;;;wBAEmB;AAClB,aAAO,CACL,CAAC,kDAAD,CADK,CAAP;AAGD;;;;;;AA+BH,OAAO,OAAP,GAAiB,MAAjB","file":"modules/Currency/stocks.js","sourcesContent":["import BaseCommand from '../../base/BaseCommand'\nimport request from 'superagent'\n\nclass Stocks extends BaseCommand {\n  static get name () {\n    return 'stocks'\n  }\n\n  static get description () {\n    return 'Fetches certain stock from ticker symbols'\n  }\n\n  static get usage () {\n    return [\n      ['**stocks** <symbol> - Fetches the specific stock']\n    ]\n  }\n\n  handle () {\n    this.responds(/^stocks (.+)$/i, matches => {\n      let symbol = matches[1]\n      request\n      .get(`http://www.google.com/finance/info?q=${symbol}`)\n      .end((err, res) => {\n        if (res.statusCode === 400) {\n          this.send(this.channel,\n            `:negative_squared_cross_mark:  Stock **$${symbol.toUpperCase()}** does not exist, **${this.sender.name}**!`\n          )\n          return\n        } else if (err) {\n          this.reply(`**Error**: Fetching ${symbol.toUpperCase()} met with ${err}`)\n          return\n        }\n        res = JSON.parse(res.text.replace('//', ''))[0]\n        this.send(this.channel, [\n          '```xl',\n          `${res.e}:${res.t}`,\n          '```',\n          `**Current price**: ${res.l}`,\n          `**Change**: ${res.c} (${res.cp}%)`,\n          `**Last update**: ${res.ltt}`\n        ].join('\\n'))\n      })\n    })\n  }\n}\n\nmodule.exports = Stocks\n"],"sourceRoot":"/Users/AaronTua/Desktop/code/fuyu/src"}