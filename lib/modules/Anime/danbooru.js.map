{"version":3,"sources":["modules/Anime/danbooru.js"],"names":[],"mappings":";;;;AAAA;;;;AACA;;;;;;;;;;;;IAEM,Q;;;;;;;;;;;6BAeM,K,EAAO;AAAA;;AACf,kCAAI,UAAJ,EAAgB,KAAhB,EAAuB,IAAvB,EACC,IADD,CACM,UAAC,GAAD,EAAS;AACb,YAAI,IAAI,IAAI,IAAJ,CAAS,CAAT,CAAR;AACA,YAAI,KAAK,EAAE,QAAX,EAAqB;AACnB,iBAAK,IAAL,CAAU,OAAK,OAAf,EAAwB,iBACR,EAAE,KADM,gCAEM,EAAE,QAFR,EAGtB,IAHsB,CAGjB,IAHiB,CAAxB;AAID,SALD,MAKO;AACL,iBAAK,IAAL,CAAU,OAAK,OAAf,EACE,uBAAqB,MAAM,KAAN,CAAY,GAAZ,EAAiB,IAAjB,CAAsB,IAAtB,CAArB,iCADF;AAID;AACF,OAdD;AAeD;;;6BAES;AAAA;;AACR,WAAK,QAAL,CAAc,aAAd,EAA6B,YAAM;AACjC,eAAK,QAAL;AACD,OAFD;;AAIA,WAAK,QAAL,CAAc,kBAAd,EAAkC,mBAAW;AAC3C,YAAI,QAAQ,QAAQ,CAAR,EAAW,KAAX,CAAiB,GAAjB,EAAsB,IAAtB,CAA2B,GAA3B,CAAZ;AACA,eAAK,QAAL,CAAc,KAAd;AACD,OAHD;AAID;;;wBAzCkB;AACjB,aAAO,UAAP;AACD;;;wBAEyB;AACxB,aAAO,mCAAP;AACD;;;wBAEmB;AAClB,aAAO,CACL,CAAC,4CAAD,CADK,CAAP;AAGD;;;;;;AAgCH,OAAO,OAAP,GAAiB,QAAjB","file":"modules/Anime/danbooru.js","sourcesContent":["import BaseCommand from '../../base/BaseCommand'\nimport img from '../.Cache/ImageFetcher'\n\nclass Danbooru extends BaseCommand {\n  static get name () {\n    return 'danbooru'\n  }\n\n  static get description () {\n    return 'Searches the Danbooru image board'\n  }\n\n  static get usage () {\n    return [\n      ['**danbooru** [tags...] - Searches danbooru']\n    ]\n  }\n\n  getImage (query) {\n    img('danbooru', query, this)\n    .then((res) => {\n      let r = res.body[0]\n      if (r && r.file_url) {\n        this.send(this.channel, [\n          `**Score**: ${r.score}`,\n          `http://danbooru.donmai.us${r.file_url}`\n        ].join('\\n'))\n      } else {\n        this.send(this.channel,\n          `**Error**: Query \"${query.split('+').join(', ')}\"` +\n          ` returned no pictures.`\n        )\n      }\n    })\n  }\n\n  handle () {\n    this.responds(/^danbooru$/i, () => {\n      this.getImage()\n    })\n\n    this.responds(/^danbooru (.+)$/i, matches => {\n      let query = matches[1].split(' ').join('+')\n      this.getImage(query)\n    })\n  }\n}\n\nmodule.exports = Danbooru\n"],"sourceRoot":"/Users/AaronTua/Desktop/code/fuyu/src"}