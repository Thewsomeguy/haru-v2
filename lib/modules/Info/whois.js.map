{"version":3,"sources":["modules/Info/whois.js"],"names":[],"mappings":";;;;AAAA;;;;AACA;;;;AAEA;;;;;;;;;;;;IAEM,K;;;;;;;;;;;8BAsBO,I,EAAM;AACf,UAAI,CAAC,IAAL,EAAW;AACT,eAAO,0BAAP;AACD;AACD,UAAI,QAAQ,EAAZ;AACA,uBAAE,MAAF,CAAS,KAAK,MAAL,CAAY,OAAZ,CAAoB,IAApB,CAAT,EAAoC,aAAK;AACvC,eAAO,EAAE,IAAF,KAAW,WAAlB;AACD,OAFD,EAEG,OAFH,CAEW,gBAAQ;AACjB,cAAM,IAAN,CAAW,KAAK,IAAhB;AACD,OAJD;AAKA,UAAI,QAAQ,CAAZ;AACA,WAAK,MAAL,CAAY,OAAZ,CAAoB,GAApB,CAAwB,kBAAU;AAAE,YAAI,OAAO,OAAP,CAAe,GAAf,CAAmB,IAAnB,EAAyB,KAAK,EAA9B,CAAJ,EAAuC;AAAS,OAApF;AACA,aAAO,CACL,OADK,gBAEO,KAAK,QAFZ,SAEwB,KAAK,aAF7B,gBAGO,KAAK,EAHZ,iBAIO,KAAK,MAAL,CAAY,SAAZ,CAAsB,IAAtB,EAA4B,IAA5B,IAAoC,MAJ3C,iBAKO,KAAK,MALZ,iBAMO,KAAK,IAAL,GAAY,KAAK,IAAL,CAAU,IAAtB,GAA6B,MANpC,GAOL,KAAK,GAAL,iBAAuB,KAAK,GAA5B,WAA0C,KAPrC,yBAQkB,KARlB,oBASY,sBAAQ,KAAK,EAAL,GAAU,OAAX,GAAsB,aAA7B,EAA4C,MAA5C,CAAmD,qCAAnD,CATZ,yBAUW,sBAAO,KAAK,MAAL,CAAY,SAAZ,CAAsB,IAAtB,EAA4B,QAAnC,EAA6C,MAA7C,CAAoD,qCAApD,CAVX,uBAWS,MAAM,MAAN,GAAe,CAAf,GAAmB,MAAM,IAAN,CAAW,IAAX,CAAnB,GAAsC,MAX/C,GAYL,IAZK,CAYA,IAZA,CAAP;AAaD;;;6BAES;AAAA;;AACR,WAAK,QAAL,CAAc,mBAAd,EAAmC,YAAM;AACvC,eAAK,IAAL,CAAU,OAAK,OAAf,EAAwB,OAAK,SAAL,CAAe,OAAK,MAApB,CAAxB;AACA,eAAK,MAAL,CAAY,OAAK,MAAL,CAAY,SAAxB;AACD,OAHD;;AAKA,WAAK,QAAL,CAAc,qBAAd,EAAqC,mBAAW;AAC9C,YAAI,OAAO,OAAK,MAAL,CAAY,KAAZ,CAAkB,GAAlB,CAAsB,IAAtB,EAA4B,QAAQ,CAAR,CAA5B,CAAX;AACA,eAAK,IAAL,CAAU,OAAK,OAAf,EAAwB,OAAK,SAAL,CAAe,IAAf,CAAxB;AACA,eAAK,MAAL,CAAY,KAAK,SAAjB;AACD,OAJD;AAKD;;;wBA3DkB;AACjB,aAAO,OAAP;AACD;;;wBAEyB;AACxB,aAAO,+BAAP;AACD;;;wBAEqB;AACpB,aAAO,CACL,QADK,CAAP;AAGD;;;wBAEmB;AAClB,aAAO,CACL,CAAC,sCAAD,CADK,EAEL,sBAFK,CAAP;AAID;;;;;;AA2CH,OAAO,OAAP,GAAiB,KAAjB","file":"modules/Info/whois.js","sourcesContent":["import moment from 'moment'\nimport _ from 'lodash'\n\nimport BaseCommand from '../../base/BaseCommand'\n\nclass Whois extends BaseCommand {\n  static get name () {\n    return 'whois'\n  }\n\n  static get description () {\n    return 'Shows information of any user'\n  }\n\n  static get aliases () {\n    return [\n      'whoami'\n    ]\n  }\n\n  static get usage () {\n    return [\n      ['**whois** - Shows some info on users'],\n      'In PMs, use `whoami`'\n    ]\n  }\n\n  fetchUser (user) {\n    if (!user) {\n      return 'I don\\'t know that user.'\n    }\n    let roles = []\n    _.remove(this.server.rolesOf(user), r => {\n      return r.name !== '@everyone'\n    }).forEach(elem => {\n      roles.push(elem.name)\n    })\n    let count = 0\n    this.client.servers.map(server => { if (server.members.get('id', user.id)) count++ })\n    return [\n      '```rb',\n      `   User: ${user.username}#${user.discriminator}`,\n      `     ID: ${user.id}`,\n      `   Nick: ${this.server.detailsOf(user).nick || 'none'}`,\n      ` Status: ${user.status}`,\n      `Playing: ${user.game ? user.game.name : 'none'}`,\n      user.bot ? `    Bot: ${user.bot}\\`\\`\\`` : '```',\n      `\\`Shared servers\\`: ${count}`,\n      `\\`Created at: ${moment((user.id / 4194304) + 1420070400000).format('ddd, Do MMMM YYYY, h:mm:ss a [GMT]Z')}\\``,\n      `\\`Joined at: ${moment(this.server.detailsOf(user).joinedAt).format('ddd, Do MMMM YYYY, h:mm:ss a [GMT]Z')}\\``,\n      `\\`Roles\\`: ${roles.length > 0 ? roles.join(', ') : 'none'}`\n    ].join('\\n')\n  }\n\n  handle () {\n    this.responds(/^(whois|whoami)$/i, () => {\n      this.send(this.channel, this.fetchUser(this.sender))\n      this.upload(this.sender.avatarURL)\n    })\n\n    this.responds(/^whois <@!*(\\d+)>$/i, matches => {\n      let user = this.client.users.get('id', matches[1])\n      this.send(this.channel, this.fetchUser(user))\n      this.upload(user.avatarURL)\n    })\n  }\n}\n\nmodule.exports = Whois\n"],"sourceRoot":"/Users/AaronTua/Desktop/code/fuyu/src"}