{"version":3,"sources":["modules/Info/whois.js"],"names":[],"mappings":";;;;AAAA;;;;AAEA;;;;;;;;;;;;IAEM,K;;;;;;;;;;;8BAsBO,I,EAAM;AACf,UAAI,CAAC,IAAL,EAAW;AACT,eAAO,0BAAP;AACD;AACD,UAAI,QAAQ,EAAZ;AACA,uBAAE,MAAF,CAAS,KAAK,MAAL,CAAY,OAAZ,CAAoB,IAApB,CAAT,EAAoC,aAAK;AACvC,eAAO,EAAE,IAAF,KAAW,WAAlB;AACD,OAFD,EAEG,OAFH,CAEW,gBAAQ;AACjB,cAAM,IAAN,CAAW,KAAK,IAAhB;AACD,OAJD;AAKA,aAAO,CACL,OADK,EAEL,8CAFK,aAGI,KAAK,QAHT,WAIE,KAAK,EAJP,sBAKa,KAAK,aALlB,eAMM,KAAK,MANX,cAOI,KAAK,IAAL,GAAY,KAAK,IAAL,CAAU,IAAtB,GAA6B,MAPjC,aAQG,KAAK,GARR,eASK,MAAM,MAAN,GAAe,CAAf,GAAmB,MAAM,IAAN,CAAW,IAAX,CAAnB,GAAsC,MAT3C,GAUL,8CAVK,EAWL,KAXK,EAYL,IAZK,CAYA,IAZA,CAAP;AAaD;;;6BAES;AAAA;;AACR,WAAK,QAAL,CAAc,mBAAd,EAAmC,YAAM;AACvC,eAAK,IAAL,CAAU,OAAK,OAAf,EAAwB,OAAK,SAAL,CAAe,OAAK,MAApB,CAAxB;AACA,eAAK,MAAL,CAAY,OAAK,MAAL,CAAY,SAAxB;AACD,OAHD;;AAKA,WAAK,QAAL,CAAc,qBAAd,EAAqC,mBAAW;AAC9C,YAAI,OAAO,OAAK,MAAL,CAAY,KAAZ,CAAkB,GAAlB,CAAsB,IAAtB,EAA4B,QAAQ,CAAR,CAA5B,CAAX;AACA,eAAK,IAAL,CAAU,OAAK,OAAf,EAAwB,OAAK,SAAL,CAAe,IAAf,CAAxB;AACA,eAAK,MAAL,CAAY,KAAK,SAAjB;AACD,OAJD;AAKD;;;wBAjDc;AACb,aAAO,CACL,QADK,CAAP;AAGD;;;wBAZkB;AACjB,aAAO,OAAP;AACD;;;wBAEyB;AACxB,aAAO,+BAAP;AACD;;;wBAQmB;AAClB,aAAO,CACL,CAAC,sCAAD,CADK,EAEL,sBAFK,CAAP;AAID;;;;;;AAyCH,OAAO,OAAP,GAAiB,KAAjB","file":"modules/Info/whois.js","sourcesContent":["import _ from 'lodash'\n\nimport BaseCommand from '../../base/BaseCommand'\n\nclass Whois extends BaseCommand {\n  static get name () {\n    return 'whois'\n  }\n\n  static get description () {\n    return 'Shows information of any user'\n  }\n\n  get aliases () {\n    return [\n      'whoami'\n    ]\n  }\n\n  static get usage () {\n    return [\n      ['**whois** - Shows some info on users'],\n      'In PMs, use `whoami`'\n    ]\n  }\n\n  fetchUser (user) {\n    if (!user) {\n      return 'I don\\'t know that user.'\n    }\n    let roles = []\n    _.remove(this.server.rolesOf(user), r => {\n      return r.name !== '@everyone'\n    }).forEach(elem => {\n      roles.push(elem.name)\n    })\n    return [\n      '```xl',\n      '================ [PROFILE] =================',\n      `Name: ${user.username}`,\n      `ID: ${user.id}`,\n      `Discriminator: ${user.discriminator}`,\n      `Status: ${user.status}`,\n      `Game: ${user.game ? user.game.name : 'none'}`,\n      `Bot: ${user.bot}`,\n      `Roles: ${roles.length > 0 ? roles.join(', ') : 'none'}`,\n      '============================================',\n      '```'\n    ].join('\\n')\n  }\n\n  handle () {\n    this.responds(/^(whois|whoami)$/i, () => {\n      this.send(this.channel, this.fetchUser(this.sender))\n      this.upload(this.sender.avatarURL)\n    })\n\n    this.responds(/^whois <@!*(\\d+)>$/i, matches => {\n      let user = this.client.users.get('id', matches[1])\n      this.send(this.channel, this.fetchUser(user))\n      this.upload(user.avatarURL)\n    })\n  }\n}\n\nmodule.exports = Whois\n"],"sourceRoot":"/Users/AaronTua/Desktop/code/fuyu/src"}