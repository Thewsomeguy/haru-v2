{"version":3,"sources":["clients/.Music/YoutubeTrack.js"],"names":[],"mappings":";;;;AAAA;;;;AACA;;;;;;;;;;;;IAEM,Y;;;AACJ,wBAAa,EAAb,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,QAAjC,EAA2C;AAAA;;AAAA,gGACnC;AACJ,0CAAkC,EAD9B;AAEJ,eAAS;AAFL,KADmC;;AAKzC,UAAK,MAAL,GAAc,MAAd;AACA,uBAAK,OAAL,CAAa,MAAK,GAAlB,EAAuB;AACrB,cAAQ;AAAA,eAAU,OAAO,SAAP,KAAqB,KAA/B;AAAA,OADa,EACyB,SAAS;AADlC,KAAvB,EAEG,UAAC,GAAD,EAAM,IAAN,EAAe;AAChB,UAAI,GAAJ,EAAS;AACP,cAAK,MAAL,CAAY,KAAZ,CAAkB,GAAlB;AACA,eAAO,SAAS,GAAT,CAAP;AACD;AACD,YAAK,KAAL,GAAa,KAAK,KAAlB;AACA,YAAK,MAAL,GAAc,KAAK,MAAnB;AACA,YAAK,KAAL,GAAa,KAAK,UAAlB;AACA,YAAK,MAAL,GAAc,KAAK,cAAnB;AACD,KAXD;AANyC;AAkB1C;;;;wBAEiB;AAChB,oBAAY,KAAK,KAAjB;AACD;;;wBAEkB;AACjB,aAAU,KAAK,UAAf,UAA8B,KAAK,WAAnC,mBAA4D,KAAK,MAAjE;AACD;;;wBAEkB;AACjB,aAAO,KAAK,KAAL,GACL,KAAK,KAAL,CAAW,OAAX,CAAmB,uBAAnB,EAA4C,GAA5C,CADK,GAC8C,SADrD;AAED;;;wBAEiB;AAChB,UAAI,UAAU,KAAK,MAAnB;AACA,aAAU,KAAK,KAAL,CAAW,CAAC,UAAU,KAAK,IAAL,CAAU,UAAU,EAApB,CAAX,IAAsC,EAAjD,CAAH,eACJ,OAAO,OAAO,KAAK,IAAL,CAAU,UAAU,EAApB,CAAd,EAAuC,KAAvC,CAA6C,CAAC,CAA9C,CADI,CAAP;AAED;;;wBAEe;AACd,aAAU,KAAK,WAAR,UAAwB,KAAK,UAA7B,2BACO,KAAK,OAAL,CAAa,QADpB,CAAP;AAED;;;wBAEa;AACZ,aAAO,wBAAK,KAAK,GAAV,EAAe;AACpB,gBAAQ;AAAA,iBAAU,OAAO,SAAP,KAAqB,KAA/B;AAAA,SADY,EAC0B,SAAS;AADnC,OAAf,CAAP;AAGD;;;;;;AAGH,OAAO,OAAP,GAAiB,YAAjB","file":"clients/.Music/YoutubeTrack.js","sourcesContent":["import Track from './Track'\nimport ytdl from 'ytdl-core'\n\nclass YoutubeTrack extends Track {\n  constructor (id, author, logger, callback) {\n    super({\n      url: `http://www.youtube.com/?v=${id}`,\n      addedBy: author\n    })\n    this.logger = logger\n    ytdl.getInfo(this.url, {\n      filter: format => format.container === 'mp4', quality: 'lowest'\n    }, (err, info) => {\n      if (err) {\n        this.logger.error(err)\n        return callback(err)\n      }\n      this.title = info.title\n      this.author = info.author\n      this.plays = info.view_count\n      this.length = info.length_seconds\n    })\n  }\n\n  get basicPrint () {\n    return `**${this.title}** `\n  }\n\n  get prettyPrint () {\n    return `${this.basicPrint} (${this.prettyPlays} plays) by ${this.author}`\n  }\n\n  get prettyPlays () {\n    return this.plays\n    ? this.plays.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') : 'unknown'\n  }\n\n  get prettyTime () {\n    let seconds = this.length\n    return `${Math.round((seconds - Math.ceil(seconds % 60)) / 60)}:` +\n    `${String('00' + Math.ceil(seconds % 60)).slice(-2)}`\n  }\n\n  get fullInfo () {\n    return `${this.prettyPrint} [${this.prettyTime}] ` +\n    `- added by ${this.addedBy.username}`\n  }\n\n  get stream () {\n    return ytdl(this.url, {\n      filter: format => format.container === 'mp4', quality: 'lowest'\n    })\n  }\n}\n\nmodule.exports = YoutubeTrack\n"],"sourceRoot":"/Users/AaronTua/Desktop/code/fuyu/src"}