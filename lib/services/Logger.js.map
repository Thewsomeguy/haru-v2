{"version":3,"sources":["services/Logger.coffee"],"names":[],"mappings":"AAAA,IAAA;;AAAA,OAAA,GAAU,OAAA,CAAQ,SAAR;;AACV,IAAA,GAAO,OAAA,CAAQ,MAAR;;AACP,EAAA,GAAK,OAAA,CAAQ,IAAR;;AACL,MAAA,GAAS,OAAA,CAAQ,QAAR;;AAET,QAAA,GAAW,IAAI,CAAC,IAAL,CAAU,OAAO,CAAC,GAAR,CAAA,CAAV,EAAyB,MAAzB;;AAEX,MAAA,GAAS,SAAC,KAAD,EAAQ,QAAR;AACP,MAAA;EAAA,IAAG,CAAC,EAAE,CAAC,UAAH,CAAc,QAAd,CAAJ;IAAgC,EAAE,CAAC,SAAH,CAAa,QAAb,EAAhC;;EACA,UAAA,GAAa;IACP,IAAA,OAAO,CAAC,UAAU,CAAC,OAAnB,CAA2B;MAC7B,KAAA,EAAU,KAAH,GAAc,OAAd,GAA2B,SADL;MAE7B,SAAA,EAAW,SAAA;eACT,MAAA,CAAA,CAAQ,CAAC,MAAT,CAAgB,uBAAhB;MADS,CAFkB;KAA3B,CADO,EAMP,IAAA,OAAO,CAAC,UAAU,CAAC,IAAnB,CAAwB;MAC1B,QAAA,EAAa,QAAD,GAAU,GAAV,GAAY,CAAC,QAAA,IAAY,MAAA,CAAA,CAAQ,CAAC,MAAT,CAAgB,iBAAhB,CAAb,CAAZ,GAA2D,OAD7C;MAE1B,QAAA,EAAU,KAFgB;MAG1B,SAAA,EAAW,IAHe;MAI1B,IAAA,EAAM,IAJoB;KAAxB,CANO;;EAab,MAAA,GAAa,IAAC,OAAO,CAAC,MAAT,CAAiB;IAC5B,WAAA,EAAa,CAAC,KADc;IAE5B,UAAA,EAAY,UAFgB;GAAjB;EAIb,MAAM,CAAC,GAAP,CAAA;SACA;AApBO;;AAsBT,MAAM,CAAC,OAAP,GAAiB","file":"services/Logger.js","sourceRoot":"/Users/AaronTua/Desktop/code/fuyu/src","sourcesContent":["winston = require 'winston'\npath = require 'path'\nfs = require 'fs'\nmoment = require 'moment'\n\nlogsPath = path.join process.cwd(), 'logs'\n\nLogger = (debug, filename) ->\n  if !fs.existsSync logsPath then fs.mkdirSync logsPath\n  transports = [\n    new winston.transports.Console({\n      level: if debug then 'silly' else 'verbose',\n      timestamp: ->\n        moment().format 'YYYY-MM-DD hh:mm:ss a'\n    }),\n    new winston.transports.File({\n      filename: \"#{logsPath}/#{filename || moment().format 'YYYY-MM-DD HHmm'}.json\",\n      colorize: false,\n      timestamp: true,\n      json: true\n    })\n  ]\n  logger = new (winston.Logger)({\n    exitOnError: !debug,\n    transports: transports\n  })\n  logger.cli()\n  logger\n\nmodule.exports = Logger\n"]}